{"version":3,"file":"platform-server.js","sources":["../../../../packages/platform-server/index.ts","../../../../packages/platform-server/public_api.ts","../../../../packages/platform-server/src/platform-server.ts","../../../../packages/platform-server/src/version.ts","../../../../packages/platform-server/src/private_export.ts","../../../../packages/platform-server/src/utils.ts","../../../../packages/platform-server/src/server.ts","../../../../packages/platform-server/src/styles_host.ts","../../../../packages/platform-server/src/server_renderer.ts","../../../../packages/platform-server/src/parse5_adapter.ts","../../../../packages/platform-server/src/location.ts","../../../../packages/platform-server/src/tokens.ts","../../../../packages/platform-server/src/http.ts","../../../../packages/platform-server/src/platform_state.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {PlatformState,ServerModule,platformDynamicServer,platformServer,INITIAL_CONFIG,PlatformConfig,renderModule,renderModuleFactory,VERSION,ɵINTERNAL_SERVER_PLATFORM_PROVIDERS,ɵSERVER_RENDER_PROVIDERS,ɵServerRendererFactory2} from './public_api';\n\nexport {SERVER_HTTP_PROVIDERS as ɵg,ServerXhr as ɵc,ServerXsrfStrategy as ɵd,httpFactory as ɵe,zoneWrappedInterceptingHandler as ɵf} from './src/http';\nexport {instantiateServerRendererFactory as ɵa} from './src/server';\nexport {ServerStylesHost as ɵb} from './src/styles_host';","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of the platform-server package.\n */\nexport {PlatformState,ServerModule,platformDynamicServer,platformServer,INITIAL_CONFIG,PlatformConfig,renderModule,renderModuleFactory,VERSION,ɵINTERNAL_SERVER_PLATFORM_PROVIDERS,ɵSERVER_RENDER_PROVIDERS,ɵServerRendererFactory2} from './src/platform-server';\n\n// This file only reexports content of the `src` folder. Keep it that way.\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport {PlatformState} from './platform_state';\nexport {ServerModule, platformDynamicServer, platformServer} from './server';\nexport {INITIAL_CONFIG, PlatformConfig} from './tokens';\nexport {renderModule, renderModuleFactory} from './utils';\n\nexport {ɵINTERNAL_SERVER_PLATFORM_PROVIDERS,ɵSERVER_RENDER_PROVIDERS,ɵServerRendererFactory2} from './private_export';\nexport {VERSION} from './version';\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\n\n\nimport {Version} from '@angular/core';\n/**\n * \\@stable\n */\nexport const VERSION = new Version('4.3.3');\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nexport {INTERNAL_SERVER_PLATFORM_PROVIDERS as ɵINTERNAL_SERVER_PLATFORM_PROVIDERS, SERVER_RENDER_PROVIDERS as ɵSERVER_RENDER_PROVIDERS} from './server';\nexport {ServerRendererFactory2 as ɵServerRendererFactory2} from './server_renderer';","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {ApplicationRef, NgModuleFactory, NgModuleRef, PlatformRef, Provider, Type} from '@angular/core';\nimport {ɵTRANSITION_ID} from '@angular/platform-browser';\nimport {filter} from 'rxjs/operator/filter';\nimport {first} from 'rxjs/operator/first';\nimport {toPromise} from 'rxjs/operator/toPromise';\n\nimport {PlatformState} from './platform_state';\nimport {platformDynamicServer, platformServer} from './server';\nimport {INITIAL_CONFIG} from './tokens';\n\nconst /** @type {?} */ parse5 = require('parse5');\n\ninterface PlatformOptions {\n  document?: string;\n  url?: string;\n  extraProviders?: Provider[];\n}\n/**\n * @param {?} platformFactory\n * @param {?} options\n * @return {?}\n */\nfunction _getPlatform(\n    platformFactory: (extraProviders: Provider[]) => PlatformRef,\n    options: PlatformOptions): PlatformRef {\n  const /** @type {?} */ extraProviders = options.extraProviders ? options.extraProviders : [];\n  return platformFactory([\n    {provide: INITIAL_CONFIG, useValue: {document: options.document, url: options.url}},\n    extraProviders\n  ]);\n}\n/**\n * @template T\n * @param {?} platform\n * @param {?} moduleRefPromise\n * @return {?}\n */\nfunction _render<T>(\n    platform: PlatformRef, moduleRefPromise: Promise<NgModuleRef<T>>): Promise<string> {\n  return moduleRefPromise.then((moduleRef) => {\n    const /** @type {?} */ transitionId = moduleRef.injector.get(ɵTRANSITION_ID, null);\n    if (!transitionId) {\n      throw new Error(\n          `renderModule[Factory]() requires the use of BrowserModule.withServerTransition() to ensure\nthe server-rendered app can be properly bootstrapped into a client app.`);\n    }\n    const /** @type {?} */ applicationRef: ApplicationRef = moduleRef.injector.get(ApplicationRef);\n    return toPromise\n        .call(first.call(filter.call(applicationRef.isStable, (isStable: boolean) => isStable)))\n        .then(() => {\n          const /** @type {?} */ output = platform.injector.get(PlatformState).renderToString();\n          platform.destroy();\n          return output;\n        });\n  });\n}\n/**\n * Renders a Module to string.\n * \n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n * \n * Do not use this in a production server environment. Use pre-compiled {\\@link NgModuleFactory} with\n * {\\@link renderModuleFactory} instead.\n * \n * \\@experimental\n * @template T\n * @param {?} module\n * @param {?} options\n * @return {?}\n */\nexport function renderModule<T>(\n    module: Type<T>,\n    options: {document?: string, url?: string, extraProviders?: Provider[]}): Promise<string> {\n  const /** @type {?} */ platform = _getPlatform(platformDynamicServer, options);\n  return _render(platform, platform.bootstrapModule(module));\n}\n/**\n * Renders a {\\@link NgModuleFactory} to string.\n * \n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n * \n * \\@experimental\n * @template T\n * @param {?} moduleFactory\n * @param {?} options\n * @return {?}\n */\nexport function renderModuleFactory<T>(\n    moduleFactory: NgModuleFactory<T>,\n    options: {document?: string, url?: string, extraProviders?: Provider[]}): Promise<string> {\n  const /** @type {?} */ platform = _getPlatform(platformServer, options);\n  return _render(platform, platform.bootstrapModuleFactory(moduleFactory));\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {ɵAnimationEngine} from '@angular/animations/browser';\nimport {PlatformLocation, ɵPLATFORM_SERVER_ID as PLATFORM_SERVER_ID} from '@angular/common';\nimport {HttpClientModule} from '@angular/common/http';\nimport {platformCoreDynamic} from '@angular/compiler';\nimport {Injectable, InjectionToken, Injector, NgModule, NgZone, PLATFORM_ID, PLATFORM_INITIALIZER, PlatformRef, Provider, RendererFactory2, RootRenderer, Testability, createPlatformFactory, isDevMode, platformCore, ɵALLOW_MULTIPLE_PLATFORMS as ALLOW_MULTIPLE_PLATFORMS} from '@angular/core';\nimport {HttpModule} from '@angular/http';\nimport {BrowserModule, DOCUMENT, ɵSharedStylesHost as SharedStylesHost, ɵgetDOM as getDOM} from '@angular/platform-browser';\nimport {NoopAnimationsModule, ɵAnimationRendererFactory} from '@angular/platform-browser/animations';\n\nimport {SERVER_HTTP_PROVIDERS} from './http';\nimport {ServerPlatformLocation} from './location';\nimport {Parse5DomAdapter, parseDocument} from './parse5_adapter';\nimport {PlatformState} from './platform_state';\nimport {ServerRendererFactory2} from './server_renderer';\nimport {ServerStylesHost} from './styles_host';\nimport {INITIAL_CONFIG, PlatformConfig} from './tokens';\n/**\n * @param {?} feature\n * @return {?}\n */\nfunction notSupported(feature: string): Error {\n  throw new Error(`platform-server does not support '${feature}'.`);\n}\n\nexport const /** @type {?} */ INTERNAL_SERVER_PLATFORM_PROVIDERS: Array<any /*Type | Provider | any[]*/> = [\n  {provide: DOCUMENT, useFactory: _document, deps: [Injector]},\n  {provide: PLATFORM_ID, useValue: PLATFORM_SERVER_ID},\n  {provide: PLATFORM_INITIALIZER, useFactory: initParse5Adapter, multi: true, deps: [Injector]},\n  {provide: PlatformLocation, useClass: ServerPlatformLocation}, PlatformState,\n  // Add special provider that allows multiple instances of platformServer* to be created.\n  {provide: ALLOW_MULTIPLE_PLATFORMS, useValue: true}\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initParse5Adapter(injector: Injector) {\n  return () => { Parse5DomAdapter.makeCurrent(); };\n}\n/**\n * @param {?} renderer\n * @param {?} engine\n * @param {?} zone\n * @return {?}\n */\nexport function instantiateServerRendererFactory(\n    renderer: RendererFactory2, engine: ɵAnimationEngine, zone: NgZone) {\n  return new ɵAnimationRendererFactory(renderer, engine, zone);\n}\n\nexport const /** @type {?} */ SERVER_RENDER_PROVIDERS: Provider[] = [\n  ServerRendererFactory2,\n  {\n    provide: RendererFactory2,\n    useFactory: instantiateServerRendererFactory,\n    deps: [ServerRendererFactory2, ɵAnimationEngine, NgZone]\n  },\n  ServerStylesHost,\n  {provide: SharedStylesHost, useExisting: ServerStylesHost},\n];\n/**\n * The ng module for the server.\n * \n * \\@experimental\n */\nexport class ServerModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  exports: [BrowserModule],\n  imports: [HttpModule, HttpClientModule, NoopAnimationsModule],\n  providers: [\n    SERVER_RENDER_PROVIDERS,\n    SERVER_HTTP_PROVIDERS,\n    {provide: Testability, useValue: null},\n  ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ServerModule_tsickle_Closure_declarations() {\n/** @type {?} */\nServerModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerModule.ctorParameters;\n}\n\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction _document(injector: Injector) {\n  let /** @type {?} */ config: PlatformConfig|null = injector.get(INITIAL_CONFIG, null);\n  if (config && config.document) {\n    return parseDocument(config.document);\n  } else {\n    return getDOM().createHtmlDocument();\n  }\n}\n/**\n * \\@experimental\n */\nexport const platformServer =\n    createPlatformFactory(platformCore, 'server', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n/**\n * The server platform that supports the runtime compiler.\n * \n * \\@experimental\n */\nexport const platformDynamicServer =\n    createPlatformFactory(platformCoreDynamic, 'serverDynamic', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {ApplicationRef, Inject, Injectable, Optional} from '@angular/core';\nimport {DOCUMENT, ɵSharedStylesHost as SharedStylesHost, ɵTRANSITION_ID, ɵgetDOM as getDOM} from '@angular/platform-browser';\n\nimport {Parse5DomAdapter} from './parse5_adapter';\nexport class ServerStylesHost extends SharedStylesHost {\nprivate head: any = null;\n/**\n * @param {?} doc\n * @param {?} transitionId\n */\nconstructor(\nprivate doc: any,\nprivate transitionId: string) {\n    super();\n    this.head = getDOM().getElementsByTagName(doc, 'head')[0];\n  }\n/**\n * @param {?} style\n * @return {?}\n */\nprivate _addStyle(style: string): void {\n    let /** @type {?} */ adapter: Parse5DomAdapter = /** @type {?} */(( getDOM() as Parse5DomAdapter));\n    const /** @type {?} */ el = adapter.createElement('style');\n    adapter.setText(el, style);\n    if (!!this.transitionId) {\n      adapter.setAttribute(el, 'ng-transition', this.transitionId);\n    }\n    adapter.appendChild(this.head, el);\n  }\n/**\n * @param {?} additions\n * @return {?}\n */\nonStylesAdded(additions: Set<string>) { additions.forEach(style => this._addStyle(style)); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [ɵTRANSITION_ID, ] }, ]},\n];\n}\n\nfunction ServerStylesHost_tsickle_Closure_declarations() {\n/** @type {?} */\nServerStylesHost.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerStylesHost.ctorParameters;\n/** @type {?} */\nServerStylesHost.prototype.head;\n/** @type {?} */\nServerStylesHost.prototype.doc;\n/** @type {?} */\nServerStylesHost.prototype.transitionId;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {DomElementSchemaRegistry} from '@angular/compiler';\nimport {APP_ID, Inject, Injectable, NgZone, RenderComponentType, Renderer, Renderer2, RendererFactory2, RendererStyleFlags2, RendererType2, RootRenderer, ViewEncapsulation, ɵstringify as stringify} from '@angular/core';\nimport {DOCUMENT, ɵNAMESPACE_URIS as NAMESPACE_URIS, ɵSharedStylesHost as SharedStylesHost, ɵflattenStyles as flattenStyles, ɵgetDOM as getDOM, ɵshimContentAttribute as shimContentAttribute, ɵshimHostAttribute as shimHostAttribute} from '@angular/platform-browser';\n\nconst /** @type {?} */ EMPTY_ARRAY: any[] = [];\nexport class ServerRendererFactory2 implements RendererFactory2 {\nprivate rendererByCompId = new Map<string, Renderer2>();\nprivate defaultRenderer: Renderer2;\nprivate schema = new DomElementSchemaRegistry();\n/**\n * @param {?} ngZone\n * @param {?} document\n * @param {?} sharedStylesHost\n */\nconstructor(\nprivate ngZone: NgZone,\nprivate document: any,\nprivate sharedStylesHost: SharedStylesHost) {\n    this.defaultRenderer = new DefaultServerRenderer2(document, ngZone, this.schema);\n  };\n/**\n * @param {?} element\n * @param {?} type\n * @return {?}\n */\ncreateRenderer(element: any, type: RendererType2|null): Renderer2 {\n    if (!element || !type) {\n      return this.defaultRenderer;\n    }\n    switch (type.encapsulation) {\n      case ViewEncapsulation.Native:\n      case ViewEncapsulation.Emulated: {\n        let /** @type {?} */ renderer = this.rendererByCompId.get(type.id);\n        if (!renderer) {\n          renderer = new EmulatedEncapsulationServerRenderer2(\n              this.document, this.ngZone, this.sharedStylesHost, this.schema, type);\n          this.rendererByCompId.set(type.id, renderer);\n        }\n        ( /** @type {?} */((<EmulatedEncapsulationServerRenderer2>renderer))).applyToHost(element);\n        return renderer;\n      }\n      case ViewEncapsulation.Native:\n        throw new Error('Native encapsulation is not supported on the server!');\n      default: {\n        if (!this.rendererByCompId.has(type.id)) {\n          const /** @type {?} */ styles = flattenStyles(type.id, type.styles, []);\n          this.sharedStylesHost.addStyles(styles);\n          this.rendererByCompId.set(type.id, this.defaultRenderer);\n        }\n        return this.defaultRenderer;\n      }\n    }\n  }\n/**\n * @return {?}\n */\nbegin() {}\n/**\n * @return {?}\n */\nend() {}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgZone, },\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: SharedStylesHost, },\n];\n}\n\nfunction ServerRendererFactory2_tsickle_Closure_declarations() {\n/** @type {?} */\nServerRendererFactory2.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerRendererFactory2.ctorParameters;\n/** @type {?} */\nServerRendererFactory2.prototype.rendererByCompId;\n/** @type {?} */\nServerRendererFactory2.prototype.defaultRenderer;\n/** @type {?} */\nServerRendererFactory2.prototype.schema;\n/** @type {?} */\nServerRendererFactory2.prototype.ngZone;\n/** @type {?} */\nServerRendererFactory2.prototype.document;\n/** @type {?} */\nServerRendererFactory2.prototype.sharedStylesHost;\n}\n\nclass DefaultServerRenderer2 implements Renderer2 {\n  data: {[key: string]: any} = Object.create(null);\n/**\n * @param {?} document\n * @param {?} ngZone\n * @param {?} schema\n */\nconstructor(\nprivate document: any,\nprivate ngZone: NgZone,\nprivate schema: DomElementSchemaRegistry) {}\n/**\n * @return {?}\n */\ndestroy(): void {}\n\n  destroyNode: null;\n/**\n * @param {?} name\n * @param {?=} namespace\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateElement(name: string, namespace?: string, debugInfo?: any): any {\n    if (namespace) {\n      return getDOM().createElementNS(NAMESPACE_URIS[namespace], name);\n    }\n\n    return getDOM().createElement(name);\n  }\n/**\n * @param {?} value\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateComment(value: string, debugInfo?: any): any { return getDOM().createComment(value); }\n/**\n * @param {?} value\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateText(value: string, debugInfo?: any): any { return getDOM().createTextNode(value); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @return {?}\n */\nappendChild(parent: any, newChild: any): void { getDOM().appendChild(parent, newChild); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @param {?} refChild\n * @return {?}\n */\ninsertBefore(parent: any, newChild: any, refChild: any): void {\n    if (parent) {\n      getDOM().insertBefore(parent, refChild, newChild);\n    }\n  }\n/**\n * @param {?} parent\n * @param {?} oldChild\n * @return {?}\n */\nremoveChild(parent: any, oldChild: any): void {\n    if (parent) {\n      getDOM().removeChild(parent, oldChild);\n    }\n  }\n/**\n * @param {?} selectorOrNode\n * @param {?=} debugInfo\n * @return {?}\n */\nselectRootElement(selectorOrNode: string|any, debugInfo?: any): any {\n    let /** @type {?} */ el: any;\n    if (typeof selectorOrNode === 'string') {\n      el = getDOM().querySelector(this.document, selectorOrNode);\n      if (!el) {\n        throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\n      }\n    } else {\n      el = selectorOrNode;\n    }\n    getDOM().clearNodes(el);\n    return el;\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nparentNode(node: any): any { return getDOM().parentElement(node); }\n/**\n * @param {?} node\n * @return {?}\n */\nnextSibling(node: any): any { return getDOM().nextSibling(node); }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @param {?=} namespace\n * @return {?}\n */\nsetAttribute(el: any, name: string, value: string, namespace?: string): void {\n    if (namespace) {\n      getDOM().setAttributeNS(el, NAMESPACE_URIS[namespace], namespace + ':' + name, value);\n    } else {\n      getDOM().setAttribute(el, name, value);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?=} namespace\n * @return {?}\n */\nremoveAttribute(el: any, name: string, namespace?: string): void {\n    if (namespace) {\n      getDOM().removeAttributeNS(el, NAMESPACE_URIS[namespace], name);\n    } else {\n      getDOM().removeAttribute(el, name);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\naddClass(el: any, name: string): void { getDOM().addClass(el, name); }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\nremoveClass(el: any, name: string): void { getDOM().removeClass(el, name); }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} value\n * @param {?} flags\n * @return {?}\n */\nsetStyle(el: any, style: string, value: any, flags: RendererStyleFlags2): void {\n    getDOM().setStyle(el, style, value);\n  }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} flags\n * @return {?}\n */\nremoveStyle(el: any, style: string, flags: RendererStyleFlags2): void {\n    getDOM().removeStyle(el, style);\n  }\n/**\n * @param {?} tagName\n * @param {?} propertyName\n * @return {?}\n */\nprivate _isSafeToReflectProperty(tagName: string, propertyName: string): boolean {\n    return this.schema.securityContext(tagName, propertyName, true) ===\n        this.schema.securityContext(tagName, propertyName, false);\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: any, name: string, value: any): void {\n    checkNoSyntheticProp(name, 'property');\n    getDOM().setProperty(el, name, value);\n    // Mirror property values for known HTML element properties in the attributes.\n    const /** @type {?} */ tagName = ( /** @type {?} */((el.tagName as string))).toLowerCase();\n    if (value != null && (typeof value === 'number' || typeof value == 'string') &&\n        this.schema.hasElement(tagName, EMPTY_ARRAY) &&\n        this.schema.hasProperty(tagName, name, EMPTY_ARRAY) &&\n        this._isSafeToReflectProperty(tagName, name)) {\n      this.setAttribute(el, name, value.toString());\n    }\n  }\n/**\n * @param {?} node\n * @param {?} value\n * @return {?}\n */\nsetValue(node: any, value: string): void { getDOM().setText(node, value); }\n/**\n * @param {?} target\n * @param {?} eventName\n * @param {?} callback\n * @return {?}\n */\nlisten(\n      target: 'document'|'window'|'body'|any, eventName: string,\n      callback: (event: any) => boolean): () => void {\n    // Note: We are not using the EventsPlugin here as this is not needed\n    // to run our tests.\n    checkNoSyntheticProp(eventName, 'listener');\n    const /** @type {?} */ el =\n        typeof target === 'string' ? getDOM().getGlobalEventTarget(this.document, target) : target;\n    const /** @type {?} */ outsideHandler = (event: any) => this.ngZone.runGuarded(() => callback(event));\n    return this.ngZone.runOutsideAngular(() => getDOM().onAndCancel(el, eventName, outsideHandler));\n  }\n}\n\nfunction DefaultServerRenderer2_tsickle_Closure_declarations() {\n/** @type {?} */\nDefaultServerRenderer2.prototype.data;\n/** @type {?} */\nDefaultServerRenderer2.prototype.destroyNode;\n/** @type {?} */\nDefaultServerRenderer2.prototype.document;\n/** @type {?} */\nDefaultServerRenderer2.prototype.ngZone;\n/** @type {?} */\nDefaultServerRenderer2.prototype.schema;\n}\n\n\nconst /** @type {?} */ AT_CHARCODE = '@'.charCodeAt(0);\n/**\n * @param {?} name\n * @param {?} nameKind\n * @return {?}\n */\nfunction checkNoSyntheticProp(name: string, nameKind: string) {\n  if (name.charCodeAt(0) === AT_CHARCODE) {\n    throw new Error(\n        `Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`);\n  }\n}\nclass EmulatedEncapsulationServerRenderer2 extends DefaultServerRenderer2 {\nprivate contentAttr: string;\nprivate hostAttr: string;\n/**\n * @param {?} document\n * @param {?} ngZone\n * @param {?} sharedStylesHost\n * @param {?} schema\n * @param {?} component\n */\nconstructor(\n      document: any, ngZone: NgZone, sharedStylesHost: SharedStylesHost,\n      schema: DomElementSchemaRegistry,\nprivate component: RendererType2) {\n    super(document, ngZone, schema);\n    const styles = flattenStyles(component.id, component.styles, []);\n    sharedStylesHost.addStyles(styles);\n\n    this.contentAttr = shimContentAttribute(component.id);\n    this.hostAttr = shimHostAttribute(component.id);\n  }\n/**\n * @param {?} element\n * @return {?}\n */\napplyToHost(element: any) { super.setAttribute(element, this.hostAttr, ''); }\n/**\n * @param {?} parent\n * @param {?} name\n * @return {?}\n */\ncreateElement(parent: any, name: string): Element {\n    const /** @type {?} */ el = super.createElement(parent, name);\n    super.setAttribute(el, this.contentAttr, '');\n    return el;\n  }\n}\n\nfunction EmulatedEncapsulationServerRenderer2_tsickle_Closure_declarations() {\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.contentAttr;\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.hostAttr;\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.component;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\n/**\n * @license \n * Copyright Google Inc. All Rights Reserved.\n * \n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst parse5 = require('parse5');\n\nimport {ɵglobal as global} from '@angular/core';\nimport {ɵDomAdapter as DomAdapter, ɵsetRootDomAdapter as setRootDomAdapter} from '@angular/platform-browser';\nimport {SelectorMatcher, CssSelector} from '@angular/compiler';\n\nlet /** @type {?} */ treeAdapter: any;\n\nconst /** @type {?} */ _attrToPropMap: {[key: string]: string} = {\n  'class': 'className',\n  'innerHtml': 'innerHTML',\n  'readonly': 'readOnly',\n  'tabindex': 'tabIndex',\n};\n\nconst /** @type {?} */ mapProps = ['attribs', 'x-attribsNamespace', 'x-attribsPrefix'];\n/**\n * @param {?} methodName\n * @return {?}\n */\nfunction _notImplemented(methodName: string) {\n  return new Error('This method is not implemented in Parse5DomAdapter: ' + methodName);\n}\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\nfunction _getElement(el: any, name: string) {\n  for (let /** @type {?} */ i = 0; i < el.childNodes.length; i++) {\n    let /** @type {?} */ node = el.childNodes[i];\n    if (node.name === name) {\n      return node;\n    }\n  }\n  return null;\n}\n/**\n * Parses a document string to a Document object.\n * @param {?} html\n * @return {?}\n */\nexport function parseDocument(html: string) {\n  let /** @type {?} */ doc = parse5.parse(html, {treeAdapter: parse5.treeAdapters.htmlparser2});\n  let /** @type {?} */ docElement = _getElement(doc, 'html');\n  doc['head'] = _getElement(docElement, 'head');\n  doc['body'] = _getElement(docElement, 'body');\n  doc['_window'] = {};\n  return doc;\n}\n/**\n * A `DomAdapter` powered by the `parse5` NodeJS module.\n * \n * \\@security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n */\nexport class Parse5DomAdapter extends DomAdapter {\n/**\n * @return {?}\n */\nstatic makeCurrent() {\n    treeAdapter = parse5.treeAdapters.htmlparser2;\n    setRootDomAdapter(new Parse5DomAdapter());\n  }\n/**\n * @param {?} nodeA\n * @param {?} nodeB\n * @return {?}\n */\ncontains(nodeA: any, nodeB: any): boolean {\n    let /** @type {?} */ inner = nodeB;\n    while (inner) {\n      if (inner === nodeA) return true;\n      inner = inner.parent;\n    }\n    return false;\n  }\n/**\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\nhasProperty(element: any, name: string): boolean {\n    return _HTMLElementPropertyList.indexOf(name) > -1;\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: any, name: string, value: any) {\n    if (name === 'innerHTML') {\n      this.setInnerHTML(el, value);\n    } else if (name === 'innerText') {\n      this.setText(el, value);\n    } else if (name === 'className') {\n      el.attribs['class'] = el.className = value;\n    } else {\n      // Store the property in a separate property bag so that it doesn't clobber\n      // actual parse5 properties on the Element.\n      el.properties = el.properties || {};\n      el.properties[name] = value;\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\ngetProperty(el: any, name: string): any {\n    return el.properties ? el.properties[name] : undefined;\n  }\n/**\n * @param {?} error\n * @return {?}\n */\nlogError(error: string) { console.error(error); }\n/**\n * @param {?} error\n * @return {?}\n */\nlog(error: string) { console.log(error); }\n/**\n * @param {?} error\n * @return {?}\n */\nlogGroup(error: string) { console.error(error); }\n/**\n * @return {?}\n */\nlogGroupEnd() {}\n/**\n * @return {?}\n */\nget attrToPropMap() { return _attrToPropMap; }\n/**\n * @param {?} el\n * @param {?} selector\n * @return {?}\n */\nquerySelector(el: any, selector: string): any {\n    return this.querySelectorAll(el, selector)[0] || null;\n  }\n/**\n * @param {?} el\n * @param {?} selector\n * @return {?}\n */\nquerySelectorAll(el: any, selector: string): any[] {\n    const /** @type {?} */ res: any[] = [];\n    const /** @type {?} */ _recursive = (result: any, node: any, selector: any, matcher: any) => {\n      const /** @type {?} */ cNodes = node.childNodes;\n      if (cNodes && cNodes.length > 0) {\n        for (let /** @type {?} */ i = 0; i < cNodes.length; i++) {\n          const /** @type {?} */ childNode = cNodes[i];\n          if (this.elementMatches(childNode, selector, matcher)) {\n            result.push(childNode);\n          }\n          _recursive(result, childNode, selector, matcher);\n        }\n      }\n    };\n    const /** @type {?} */ matcher = new SelectorMatcher();\n    matcher.addSelectables(CssSelector.parse(selector));\n    _recursive(res, el, selector, matcher);\n    return res;\n  }\n/**\n * @param {?} node\n * @param {?} selector\n * @param {?=} matcher\n * @return {?}\n */\nelementMatches(node: any, selector: string, matcher: any = null): boolean {\n    if (this.isElementNode(node) && selector === '*') {\n      return true;\n    }\n    let /** @type {?} */ result = false;\n    if (selector && selector.charAt(0) == '#') {\n      result = this.getAttribute(node, 'id') == selector.substring(1);\n    } else if (selector) {\n      if (!matcher) {\n        matcher = new SelectorMatcher();\n        matcher.addSelectables(CssSelector.parse(selector));\n      }\n\n      const /** @type {?} */ cssSelector = new CssSelector();\n      cssSelector.setElement(this.tagName(node));\n      if (node.attribs) {\n        for (const /** @type {?} */ attrName in node.attribs) {\n          cssSelector.addAttribute(attrName, node.attribs[attrName]);\n        }\n      }\n      const /** @type {?} */ classList = this.classList(node);\n      for (let /** @type {?} */ i = 0; i < classList.length; i++) {\n        cssSelector.addClassName(classList[i]);\n      }\n\n      matcher.match(cssSelector, function(selector: any, cb: any) { result = true; });\n    }\n    return result;\n  }\n/**\n * @param {?} el\n * @param {?} evt\n * @param {?} listener\n * @return {?}\n */\non(el: any, evt: any, listener: any) {\n    let /** @type {?} */ listenersMap: {[k: string]: any} = el._eventListenersMap;\n    if (!listenersMap) {\n      listenersMap = {};\n      el._eventListenersMap = listenersMap;\n    }\n    const /** @type {?} */ listeners = listenersMap[evt] || [];\n    listenersMap[evt] = [...listeners, listener];\n  }\n/**\n * @param {?} el\n * @param {?} evt\n * @param {?} listener\n * @return {?}\n */\nonAndCancel(el: any, evt: any, listener: any): Function {\n    this.on(el, evt, listener);\n    return () => { remove( /** @type {?} */((<any[]>(el._eventListenersMap[evt]))), listener); };\n  }\n/**\n * @param {?} el\n * @param {?} evt\n * @return {?}\n */\ndispatchEvent(el: any, evt: any) {\n    if (!evt.target) {\n      evt.target = el;\n    }\n    if (el._eventListenersMap) {\n      const /** @type {?} */ listeners: any = el._eventListenersMap[evt.type];\n      if (listeners) {\n        for (let /** @type {?} */ i = 0; i < listeners.length; i++) {\n          listeners[i](evt);\n        }\n      }\n    }\n    if (el.parent) {\n      this.dispatchEvent(el.parent, evt);\n    }\n    if (el._window) {\n      this.dispatchEvent(el._window, evt);\n    }\n  }\n/**\n * @param {?} eventType\n * @return {?}\n */\ncreateMouseEvent(eventType: any): Event { return this.createEvent(eventType); }\n/**\n * @param {?} eventType\n * @return {?}\n */\ncreateEvent(eventType: string): Event {\n    const /** @type {?} */ event = /** @type {?} */(( <Event>{\n      type: eventType,\n      defaultPrevented: false,\n      preventDefault: () => { ( /** @type {?} */((<any>event))).defaultPrevented = true; }\n    }));\n    return event;\n  }\n/**\n * @param {?} event\n * @return {?}\n */\npreventDefault(event: any) { event.returnValue = false; }\n/**\n * @param {?} event\n * @return {?}\n */\nisPrevented(event: any): boolean { return event.returnValue != null && !event.returnValue; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetInnerHTML(el: any): string {\n    return parse5.serialize(this.templateAwareRoot(el), {treeAdapter});\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetTemplateContent(el: any): Node|null { return null; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetOuterHTML(el: any): string {\n    const /** @type {?} */ fragment = treeAdapter.createDocumentFragment();\n    this.appendChild(fragment, el);\n    return parse5.serialize(fragment, {treeAdapter});\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nnodeName(node: any): string { return node.tagName; }\n/**\n * @param {?} node\n * @return {?}\n */\nnodeValue(node: any): string { return node.nodeValue; }\n/**\n * @param {?} node\n * @return {?}\n */\ntype(node: any): string { throw _notImplemented('type'); }\n/**\n * @param {?} node\n * @return {?}\n */\ncontent(node: any): string { return node.childNodes[0]; }\n/**\n * @param {?} el\n * @return {?}\n */\nfirstChild(el: any): Node { return el.firstChild; }\n/**\n * @param {?} el\n * @return {?}\n */\nnextSibling(el: any): Node { return el.nextSibling; }\n/**\n * @param {?} el\n * @return {?}\n */\nparentElement(el: any): Node { return el.parent; }\n/**\n * @param {?} el\n * @return {?}\n */\nchildNodes(el: any): Node[] { return el.childNodes; }\n/**\n * @param {?} el\n * @return {?}\n */\nchildNodesAsList(el: any): any[] {\n    const /** @type {?} */ childNodes = el.childNodes;\n    const /** @type {?} */ res = new Array(childNodes.length);\n    for (let /** @type {?} */ i = 0; i < childNodes.length; i++) {\n      res[i] = childNodes[i];\n    }\n    return res;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\nclearNodes(el: any) {\n    while (el.childNodes.length > 0) {\n      this.remove(el.childNodes[0]);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} node\n * @return {?}\n */\nappendChild(el: any, node: any) {\n    this.remove(node);\n    treeAdapter.appendChild(this.templateAwareRoot(el), node);\n  }\n/**\n * @param {?} el\n * @param {?} node\n * @return {?}\n */\nremoveChild(el: any, node: any) {\n    if (el.childNodes.indexOf(node) > -1) {\n      this.remove(node);\n    }\n  }\n/**\n * @param {?} el\n * @return {?}\n */\nremove(el: any): HTMLElement {\n    const /** @type {?} */ parent = el.parent;\n    if (parent) {\n      const /** @type {?} */ index = parent.childNodes.indexOf(el);\n      parent.childNodes.splice(index, 1);\n    }\n    const /** @type {?} */ prev = el.previousSibling;\n    const /** @type {?} */ next = el.nextSibling;\n    if (prev) {\n      prev.next = next;\n    }\n    if (next) {\n      next.prev = prev;\n    }\n    el.prev = null;\n    el.next = null;\n    el.parent = null;\n    return el;\n  }\n/**\n * @param {?} parent\n * @param {?} ref\n * @param {?} newNode\n * @return {?}\n */\ninsertBefore(parent: any, ref: any, newNode: any) {\n    this.remove(newNode);\n    if (ref) {\n      treeAdapter.insertBefore(parent, newNode, ref);\n    } else {\n      this.appendChild(parent, newNode);\n    }\n  }\n/**\n * @param {?} parent\n * @param {?} ref\n * @param {?} nodes\n * @return {?}\n */\ninsertAllBefore(parent: any, ref: any, nodes: any) {\n    nodes.forEach((n: any) => this.insertBefore(parent, ref, n));\n  }\n/**\n * @param {?} parent\n * @param {?} ref\n * @param {?} node\n * @return {?}\n */\ninsertAfter(parent: any, ref: any, node: any) {\n    if (ref.nextSibling) {\n      this.insertBefore(parent, ref.nextSibling, node);\n    } else {\n      this.appendChild(parent, node);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetInnerHTML(el: any, value: any) {\n    this.clearNodes(el);\n    const /** @type {?} */ content = parse5.parseFragment(value, {treeAdapter});\n    for (let /** @type {?} */ i = 0; i < content.childNodes.length; i++) {\n      treeAdapter.appendChild(el, content.childNodes[i]);\n    }\n  }\n/**\n * @param {?} el\n * @param {?=} isRecursive\n * @return {?}\n */\ngetText(el: any, isRecursive?: boolean): string {\n    if (this.isTextNode(el)) {\n      return el.data;\n    }\n\n    if (this.isCommentNode(el)) {\n      // In the DOM, comments within an element return an empty string for textContent\n      // However, comment node instances return the comment content for textContent getter\n      return isRecursive ? '' : el.data;\n    }\n\n    if (!el.childNodes || el.childNodes.length == 0) {\n      return '';\n    }\n\n    let /** @type {?} */ textContent = '';\n    for (let /** @type {?} */ i = 0; i < el.childNodes.length; i++) {\n      textContent += this.getText(el.childNodes[i], true);\n    }\n    return textContent;\n  }\n/**\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetText(el: any, value: string) {\n    if (this.isTextNode(el) || this.isCommentNode(el)) {\n      el.data = value;\n    } else {\n      this.clearNodes(el);\n      if (value !== '') treeAdapter.insertText(el, value);\n    }\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetValue(el: any): string { return el.value; }\n/**\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetValue(el: any, value: string) { el.value = value; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetChecked(el: any): boolean { return el.checked; }\n/**\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetChecked(el: any, value: boolean) { el.checked = value; }\n/**\n * @param {?} text\n * @return {?}\n */\ncreateComment(text: string): Comment { return treeAdapter.createCommentNode(text); }\n/**\n * @param {?} html\n * @return {?}\n */\ncreateTemplate(html: any): HTMLElement {\n    const /** @type {?} */ template = treeAdapter.createElement('template', 'http://www.w3.org/1999/xhtml', []);\n    const /** @type {?} */ content = parse5.parseFragment(html, {treeAdapter});\n    treeAdapter.setTemplateContent(template, content);\n    return template;\n  }\n/**\n * @param {?} tagName\n * @return {?}\n */\ncreateElement(tagName: any): HTMLElement {\n    return treeAdapter.createElement(tagName, 'http://www.w3.org/1999/xhtml', []);\n  }\n/**\n * @param {?} ns\n * @param {?} tagName\n * @return {?}\n */\ncreateElementNS(ns: any, tagName: any): HTMLElement {\n    return treeAdapter.createElement(tagName, ns, []);\n  }\n/**\n * @param {?} text\n * @return {?}\n */\ncreateTextNode(text: string): Text {\n    const /** @type {?} */ t = /** @type {?} */(( <any>this.createComment(text)));\n    t.type = 'text';\n    return t;\n  }\n/**\n * @param {?} attrName\n * @param {?} attrValue\n * @return {?}\n */\ncreateScriptTag(attrName: string, attrValue: string): HTMLElement {\n    return treeAdapter.createElement(\n        'script', 'http://www.w3.org/1999/xhtml', [{name: attrName, value: attrValue}]);\n  }\n/**\n * @param {?} css\n * @return {?}\n */\ncreateStyleElement(css: string): HTMLStyleElement {\n    const /** @type {?} */ style = this.createElement('style');\n    this.setText(style, css);\n    return /** @type {?} */(( <HTMLStyleElement>style));\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ncreateShadowRoot(el: any): HTMLElement {\n    el.shadowRoot = treeAdapter.createDocumentFragment();\n    el.shadowRoot.parent = el;\n    return el.shadowRoot;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetShadowRoot(el: any): Element { return el.shadowRoot; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetHost(el: any): string { return el.host; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetDistributedNodes(el: any): Node[] { throw _notImplemented('getDistributedNodes'); }\n/**\n * @param {?} node\n * @return {?}\n */\nclone(node: Node): Node {\n    const /** @type {?} */ _recursive = (node: any) => {\n      const /** @type {?} */ nodeClone = Object.create(Object.getPrototypeOf(node));\n      for (const /** @type {?} */ prop in node) {\n        const /** @type {?} */ desc = Object.getOwnPropertyDescriptor(node, prop);\n        if (desc && 'value' in desc && typeof desc.value !== 'object') {\n          nodeClone[prop] = node[prop];\n        }\n      }\n      nodeClone.parent = null;\n      nodeClone.prev = null;\n      nodeClone.next = null;\n      nodeClone.children = null;\n\n      mapProps.forEach(mapName => {\n        if (node[mapName] != null) {\n          nodeClone[mapName] = {};\n          for (const /** @type {?} */ prop in node[mapName]) {\n            nodeClone[mapName][prop] = node[mapName][prop];\n          }\n        }\n      });\n      const /** @type {?} */ cNodes = node.children;\n      if (cNodes) {\n        const /** @type {?} */ cNodesClone = new Array(cNodes.length);\n        for (let /** @type {?} */ i = 0; i < cNodes.length; i++) {\n          const /** @type {?} */ childNode = cNodes[i];\n          const /** @type {?} */ childNodeClone = _recursive(childNode);\n          cNodesClone[i] = childNodeClone;\n          if (i > 0) {\n            childNodeClone.prev = cNodesClone[i - 1];\n            cNodesClone[i - 1].next = childNodeClone;\n          }\n          childNodeClone.parent = nodeClone;\n        }\n        nodeClone.children = cNodesClone;\n      }\n      return nodeClone;\n    };\n    return _recursive(node);\n  }\n/**\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\ngetElementsByClassName(element: any, name: string): HTMLElement[] {\n    return this.querySelectorAll(element, '.' + name);\n  }\n/**\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\ngetElementsByTagName(element: any, name: string): HTMLElement[] {\n    return this.querySelectorAll(element, name);\n  }\n/**\n * @param {?} element\n * @return {?}\n */\nclassList(element: any): string[] {\n    let /** @type {?} */ classAttrValue: any = null;\n    const /** @type {?} */ attributes = element.attribs;\n\n    if (attributes && attributes['class'] != null) {\n      classAttrValue = attributes['class'];\n    }\n    return classAttrValue ? classAttrValue.trim().split(/\\s+/g) : [];\n  }\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\naddClass(element: any, className: string) {\n    const /** @type {?} */ classList = this.classList(element);\n    const /** @type {?} */ index = classList.indexOf(className);\n    if (index == -1) {\n      classList.push(className);\n      element.attribs['class'] = element.className = classList.join(' ');\n    }\n  }\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nremoveClass(element: any, className: string) {\n    const /** @type {?} */ classList = this.classList(element);\n    const /** @type {?} */ index = classList.indexOf(className);\n    if (index > -1) {\n      classList.splice(index, 1);\n      element.attribs['class'] = element.className = classList.join(' ');\n    }\n  }\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nhasClass(element: any, className: string): boolean {\n    return this.classList(element).indexOf(className) > -1;\n  }\n/**\n * @param {?} element\n * @param {?} styleName\n * @param {?=} styleValue\n * @return {?}\n */\nhasStyle(element: any, styleName: string, styleValue?: string): boolean {\n    const /** @type {?} */ value = this.getStyle(element, styleName) || '';\n    return styleValue ? value == styleValue : value.length > 0;\n  }\n/**\n * \\@internal\n * @param {?} element\n * @return {?}\n */\n_readStyleAttribute(element: any) {\n    const /** @type {?} */ styleMap = {};\n    const /** @type {?} */ attributes = element.attribs;\n    if (attributes && attributes['style'] != null) {\n      const /** @type {?} */ styleAttrValue = attributes['style'];\n      const /** @type {?} */ styleList = styleAttrValue.split(/;+/g);\n      for (let /** @type {?} */ i = 0; i < styleList.length; i++) {\n        if (styleList[i].length > 0) {\n          const /** @type {?} */ style = /** @type {?} */(( styleList[i] as string));\n          const /** @type {?} */ colon = style.indexOf(':');\n          if (colon === -1) {\n            throw new Error(`Invalid CSS style: ${style}`);\n          }\n          ( /** @type {?} */((styleMap as any)))[style.substr(0, colon).trim()] = style.substr(colon + 1).trim();\n        }\n      }\n    }\n    return styleMap;\n  }\n/**\n * \\@internal\n * @param {?} element\n * @param {?} styleMap\n * @return {?}\n */\n_writeStyleAttribute(element: any, styleMap: any) {\n    let /** @type {?} */ styleAttrValue = '';\n    for (const /** @type {?} */ key in styleMap) {\n      const /** @type {?} */ newValue = styleMap[key];\n      if (newValue) {\n        styleAttrValue += key + ':' + styleMap[key] + ';';\n      }\n    }\n    element.attribs['style'] = styleAttrValue;\n  }\n/**\n * @param {?} element\n * @param {?} styleName\n * @param {?=} styleValue\n * @return {?}\n */\nsetStyle(element: any, styleName: string, styleValue?: string|null) {\n    const /** @type {?} */ styleMap = this._readStyleAttribute(element);\n    ( /** @type {?} */((styleMap as any)))[styleName] = styleValue;\n    this._writeStyleAttribute(element, styleMap);\n  }\n/**\n * @param {?} element\n * @param {?} styleName\n * @return {?}\n */\nremoveStyle(element: any, styleName: string) { this.setStyle(element, styleName, null); }\n/**\n * @param {?} element\n * @param {?} styleName\n * @return {?}\n */\ngetStyle(element: any, styleName: string): string {\n    const /** @type {?} */ styleMap = this._readStyleAttribute(element);\n    return styleMap.hasOwnProperty(styleName) ? ( /** @type {?} */((styleMap as any)))[styleName] : '';\n  }\n/**\n * @param {?} element\n * @return {?}\n */\ntagName(element: any): string { return element.tagName == 'style' ? 'STYLE' : element.tagName; }\n/**\n * @param {?} element\n * @return {?}\n */\nattributeMap(element: any): Map<string, string> {\n    const /** @type {?} */ res = new Map<string, string>();\n    const /** @type {?} */ elAttrs = treeAdapter.getAttrList(element);\n    for (let /** @type {?} */ i = 0; i < elAttrs.length; i++) {\n      const /** @type {?} */ attrib = elAttrs[i];\n      res.set(attrib.name, attrib.value);\n    }\n    return res;\n  }\n/**\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\nhasAttribute(element: any, attribute: string): boolean {\n    return element.attribs && element.attribs[attribute] != null;\n  }\n/**\n * @param {?} element\n * @param {?} ns\n * @param {?} attribute\n * @return {?}\n */\nhasAttributeNS(element: any, ns: string, attribute: string): boolean {\n    return this.hasAttribute(element, attribute);\n  }\n/**\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\ngetAttribute(element: any, attribute: string): string {\n    return this.hasAttribute(element, attribute) ? element.attribs[attribute] : null;\n  }\n/**\n * @param {?} element\n * @param {?} ns\n * @param {?} attribute\n * @return {?}\n */\ngetAttributeNS(element: any, ns: string, attribute: string): string {\n    return this.getAttribute(element, attribute);\n  }\n/**\n * @param {?} element\n * @param {?} attribute\n * @param {?} value\n * @return {?}\n */\nsetAttribute(element: any, attribute: string, value: string) {\n    if (attribute) {\n      element.attribs[attribute] = value;\n      if (attribute === 'class') {\n        element.className = value;\n      }\n    }\n  }\n/**\n * @param {?} element\n * @param {?} ns\n * @param {?} attribute\n * @param {?} value\n * @return {?}\n */\nsetAttributeNS(element: any, ns: string, attribute: string, value: string) {\n    this.setAttribute(element, attribute, value);\n  }\n/**\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\nremoveAttribute(element: any, attribute: string) {\n    if (attribute) {\n      delete element.attribs[attribute];\n    }\n  }\n/**\n * @param {?} element\n * @param {?} ns\n * @param {?} name\n * @return {?}\n */\nremoveAttributeNS(element: any, ns: string, name: string) { throw 'not implemented'; }\n/**\n * @param {?} el\n * @return {?}\n */\ntemplateAwareRoot(el: any): any {\n    return this.isTemplateElement(el) ? treeAdapter.getTemplateContent(el) : el;\n  }\n/**\n * @return {?}\n */\ncreateHtmlDocument(): Document {\n    const /** @type {?} */ newDoc = treeAdapter.createDocument();\n    newDoc.title = 'fakeTitle';\n    const /** @type {?} */ head = treeAdapter.createElement('head', null, []);\n    const /** @type {?} */ body = treeAdapter.createElement('body', 'http://www.w3.org/1999/xhtml', []);\n    this.appendChild(newDoc, head);\n    this.appendChild(newDoc, body);\n    newDoc['head'] = head;\n    newDoc['body'] = body;\n    newDoc['_window'] = {};\n    return newDoc;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetBoundingClientRect(el: any): any { return {left: 0, top: 0, width: 0, height: 0}; }\n/**\n * @param {?} doc\n * @return {?}\n */\ngetTitle(doc: Document): string { return this.getText(this.getTitleNode(doc)) || ''; }\n/**\n * @param {?} doc\n * @param {?} newTitle\n * @return {?}\n */\nsetTitle(doc: Document, newTitle: string) {\n    this.setText(this.getTitleNode(doc), newTitle || '');\n  }\n/**\n * @param {?} el\n * @return {?}\n */\nisTemplateElement(el: any): boolean {\n    return this.isElementNode(el) && this.tagName(el) === 'template';\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nisTextNode(node: any): boolean { return treeAdapter.isTextNode(node); }\n/**\n * @param {?} node\n * @return {?}\n */\nisCommentNode(node: any): boolean { return treeAdapter.isCommentNode(node); }\n/**\n * @param {?} node\n * @return {?}\n */\nisElementNode(node: any): boolean { return node ? treeAdapter.isElementNode(node) : false; }\n/**\n * @param {?} node\n * @return {?}\n */\nhasShadowRoot(node: any): boolean { return node.shadowRoot != null; }\n/**\n * @param {?} node\n * @return {?}\n */\nisShadowRoot(node: any): boolean { return this.getShadowRoot(node) == node; }\n/**\n * @param {?} node\n * @return {?}\n */\nimportIntoDoc(node: any): any { return this.clone(node); }\n/**\n * @param {?} node\n * @return {?}\n */\nadoptNode(node: any): any { return node; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetHref(el: any): string { return this.getAttribute(el, 'href'); }\n/**\n * @param {?} el\n * @param {?} baseUrl\n * @param {?} href\n * @return {?}\n */\nresolveAndSetHref(el: any, baseUrl: string, href: string) {\n    if (href == null) {\n      el.href = baseUrl;\n    } else {\n      el.href = baseUrl + '/../' + href;\n    }\n  }\n/**\n * \\@internal\n * @param {?} parsedRules\n * @param {?=} css\n * @return {?}\n */\n_buildRules(parsedRules: any, css?: any) {\n    const /** @type {?} */ rules: any[] = [];\n    for (let /** @type {?} */ i = 0; i < parsedRules.length; i++) {\n      const /** @type {?} */ parsedRule = parsedRules[i];\n      const /** @type {?} */ rule: {[key: string]: any} = {};\n      rule['cssText'] = css;\n      rule['style'] = {content: '', cssText: ''};\n      if (parsedRule.type == 'rule') {\n        rule['type'] = 1;\n\n        rule['selectorText'] =\n            parsedRule.selectors.join(', '.replace(/\\s{2,}/g, ' ')\n                                          .replace(/\\s*~\\s*/g, ' ~ ')\n                                          .replace(/\\s*\\+\\s*/g, ' + ')\n                                          .replace(/\\s*>\\s*/g, ' > ')\n                                          .replace(/\\[(\\w+)=(\\w+)\\]/g, '[$1=\"$2\"]'));\n        if (parsedRule.declarations == null) {\n          continue;\n        }\n        for (let /** @type {?} */ j = 0; j < parsedRule.declarations.length; j++) {\n          const /** @type {?} */ declaration = parsedRule.declarations[j];\n          rule['style'] = declaration.property[declaration.value];\n          rule['style'].cssText += declaration.property + ': ' + declaration.value + ';';\n        }\n      } else if (parsedRule.type == 'media') {\n        rule['type'] = 4;\n        rule['media'] = {mediaText: parsedRule.media};\n        if (parsedRule.rules) {\n          rule['cssRules'] = this._buildRules(parsedRule.rules);\n        }\n      }\n      rules.push(rule);\n    }\n    return rules;\n  }\n/**\n * @return {?}\n */\nsupportsDOMEvents(): boolean { return false; }\n/**\n * @return {?}\n */\nsupportsNativeShadowDOM(): boolean { return false; }\n/**\n * @param {?} doc\n * @param {?} target\n * @return {?}\n */\ngetGlobalEventTarget(doc: Document, target: string): any {\n    if (target == 'window') {\n      return ( /** @type {?} */((<any>doc)))._window;\n    } else if (target == 'document') {\n      return doc;\n    } else if (target == 'body') {\n      return doc.body;\n    }\n  }\n/**\n * @param {?} doc\n * @return {?}\n */\ngetBaseHref(doc: Document): string|null {\n    const /** @type {?} */ base = this.querySelector(doc, 'base');\n    let /** @type {?} */ href = '';\n    if (base) {\n      href = this.getHref(base);\n    }\n    // TODO(alxhub): Need relative path logic from BrowserDomAdapter here?\n    return href == null ? null : href;\n  }\n/**\n * @return {?}\n */\nresetBaseElement(): void { throw 'not implemented'; }\n/**\n * @return {?}\n */\ngetHistory(): History { throw 'not implemented'; }\n/**\n * @return {?}\n */\ngetLocation(): Location { throw 'not implemented'; }\n/**\n * @return {?}\n */\ngetUserAgent(): string { return 'Fake user agent'; }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\ngetData(el: any, name: string): string { return this.getAttribute(el, 'data-' + name); }\n/**\n * @param {?} el\n * @return {?}\n */\ngetComputedStyle(el: any): any { throw 'not implemented'; }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetData(el: any, name: string, value: string) { this.setAttribute(el, 'data-' + name, value); }\n/**\n * @return {?}\n */\nsupportsWebAnimation(): boolean { return false; }\n/**\n * @return {?}\n */\nperformanceNow(): number { return Date.now(); }\n/**\n * @return {?}\n */\ngetAnimationPrefix(): string { return ''; }\n/**\n * @return {?}\n */\ngetTransitionEnd(): string { return 'transitionend'; }\n/**\n * @return {?}\n */\nsupportsAnimation(): boolean { return true; }\n/**\n * @param {?} el\n * @param {?} newNode\n * @param {?} oldNode\n * @return {?}\n */\nreplaceChild(el: any, newNode: any, oldNode: any) { throw new Error('not implemented'); }\n/**\n * @param {?} templateHtml\n * @return {?}\n */\nparse(templateHtml: string) { throw new Error('not implemented'); }\n/**\n * @param {?} el\n * @param {?} methodName\n * @param {?} args\n * @return {?}\n */\ninvoke(el: Element, methodName: string, args: any[]): any { throw new Error('not implemented'); }\n/**\n * @param {?} event\n * @return {?}\n */\ngetEventKey(event: any): string { throw new Error('not implemented'); }\n/**\n * @return {?}\n */\nsupportsCookies(): boolean { return false; }\n/**\n * @param {?} name\n * @return {?}\n */\ngetCookie(name: string): string { throw new Error('not implemented'); }\n/**\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetCookie(name: string, value: string) { throw new Error('not implemented'); }\n/**\n * @param {?} element\n * @param {?} keyframes\n * @param {?} options\n * @return {?}\n */\nanimate(element: any, keyframes: any[], options: any): any { throw new Error('not implemented'); }\n/**\n * @param {?} doc\n * @return {?}\n */\nprivate getTitleNode(doc: Document) {\n    let /** @type {?} */ title = this.querySelector(doc, 'title');\n\n    if (!title) {\n      title = /** @type {?} */(( <HTMLTitleElement>this.createElement('title')));\n      this.appendChild(this.querySelector(doc, 'head'), title);\n    }\n\n    return title;\n  }\n}\n\n// TODO: build a proper list, this one is all the keys of a HTMLInputElement\nconst /** @type {?} */ _HTMLElementPropertyList = [\n  'webkitEntries',\n  'incremental',\n  'webkitdirectory',\n  'selectionDirection',\n  'selectionEnd',\n  'selectionStart',\n  'labels',\n  'validationMessage',\n  'validity',\n  'willValidate',\n  'width',\n  'valueAsNumber',\n  'valueAsDate',\n  'value',\n  'useMap',\n  'defaultValue',\n  'type',\n  'step',\n  'src',\n  'size',\n  'required',\n  'readOnly',\n  'placeholder',\n  'pattern',\n  'name',\n  'multiple',\n  'min',\n  'minLength',\n  'maxLength',\n  'max',\n  'list',\n  'indeterminate',\n  'height',\n  'formTarget',\n  'formNoValidate',\n  'formMethod',\n  'formEnctype',\n  'formAction',\n  'files',\n  'form',\n  'disabled',\n  'dirName',\n  'checked',\n  'defaultChecked',\n  'autofocus',\n  'autocomplete',\n  'alt',\n  'align',\n  'accept',\n  'onautocompleteerror',\n  'onautocomplete',\n  'onwaiting',\n  'onvolumechange',\n  'ontoggle',\n  'ontimeupdate',\n  'onsuspend',\n  'onsubmit',\n  'onstalled',\n  'onshow',\n  'onselect',\n  'onseeking',\n  'onseeked',\n  'onscroll',\n  'onresize',\n  'onreset',\n  'onratechange',\n  'onprogress',\n  'onplaying',\n  'onplay',\n  'onpause',\n  'onmousewheel',\n  'onmouseup',\n  'onmouseover',\n  'onmouseout',\n  'onmousemove',\n  'onmouseleave',\n  'onmouseenter',\n  'onmousedown',\n  'onloadstart',\n  'onloadedmetadata',\n  'onloadeddata',\n  'onload',\n  'onkeyup',\n  'onkeypress',\n  'onkeydown',\n  'oninvalid',\n  'oninput',\n  'onfocus',\n  'onerror',\n  'onended',\n  'onemptied',\n  'ondurationchange',\n  'ondrop',\n  'ondragstart',\n  'ondragover',\n  'ondragleave',\n  'ondragenter',\n  'ondragend',\n  'ondrag',\n  'ondblclick',\n  'oncuechange',\n  'oncontextmenu',\n  'onclose',\n  'onclick',\n  'onchange',\n  'oncanplaythrough',\n  'oncanplay',\n  'oncancel',\n  'onblur',\n  'onabort',\n  'spellcheck',\n  'isContentEditable',\n  'contentEditable',\n  'outerText',\n  'innerText',\n  'accessKey',\n  'hidden',\n  'webkitdropzone',\n  'draggable',\n  'tabIndex',\n  'dir',\n  'translate',\n  'lang',\n  'title',\n  'childElementCount',\n  'lastElementChild',\n  'firstElementChild',\n  'children',\n  'onwebkitfullscreenerror',\n  'onwebkitfullscreenchange',\n  'nextElementSibling',\n  'previousElementSibling',\n  'onwheel',\n  'onselectstart',\n  'onsearch',\n  'onpaste',\n  'oncut',\n  'oncopy',\n  'onbeforepaste',\n  'onbeforecut',\n  'onbeforecopy',\n  'shadowRoot',\n  'dataset',\n  'classList',\n  'className',\n  'outerHTML',\n  'innerHTML',\n  'scrollHeight',\n  'scrollWidth',\n  'scrollTop',\n  'scrollLeft',\n  'clientHeight',\n  'clientWidth',\n  'clientTop',\n  'clientLeft',\n  'offsetParent',\n  'offsetHeight',\n  'offsetWidth',\n  'offsetTop',\n  'offsetLeft',\n  'localName',\n  'prefix',\n  'namespaceURI',\n  'id',\n  'style',\n  'attributes',\n  'tagName',\n  'parentElement',\n  'textContent',\n  'baseURI',\n  'ownerDocument',\n  'nextSibling',\n  'previousSibling',\n  'lastChild',\n  'firstChild',\n  'childNodes',\n  'parentNode',\n  'nodeType',\n  'nodeValue',\n  'nodeName',\n  'closure_lm_714617',\n  '__jsaction',\n];\n/**\n * @template T\n * @param {?} list\n * @param {?} el\n * @return {?}\n */\nfunction remove<T>(list: T[], el: T): void {\n  const /** @type {?} */ index = list.indexOf(el);\n  if (index > -1) {\n    list.splice(index, 1);\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {LocationChangeEvent, LocationChangeListener, PlatformLocation} from '@angular/common';\nimport {Inject, Injectable, Optional} from '@angular/core';\nimport {DOCUMENT, ɵgetDOM as getDOM} from '@angular/platform-browser';\nimport {Subject} from 'rxjs/Subject';\nimport * as url from 'url';\nimport {INITIAL_CONFIG, PlatformConfig} from './tokens';\n/**\n * @param {?} urlStr\n * @return {?}\n */\nfunction parseUrl(urlStr: string): {pathname: string, search: string, hash: string} {\n  const /** @type {?} */ parsedUrl = url.parse(urlStr);\n  return {\n    pathname: parsedUrl.pathname || '',\n    search: parsedUrl.search || '',\n    hash: parsedUrl.hash || '',\n  };\n}\n/**\n * Server-side implementation of URL state. Implements `pathname`, `search`, and `hash`\n * but not the state stack.\n */\nexport class ServerPlatformLocation implements PlatformLocation {\nprivate _path: string = '/';\nprivate _search: string = '';\nprivate _hash: string = '';\nprivate _hashUpdate = new Subject<LocationChangeEvent>();\n/**\n * @param {?} _doc\n * @param {?} _config\n */\nconstructor(\nprivate _doc: any,   _config: any) {\n    const config = _config as PlatformConfig | null;\n    if (!!config && !!config.url) {\n      const parsedUrl = parseUrl(config.url);\n      this._path = parsedUrl.pathname;\n      this._search = parsedUrl.search;\n      this._hash = parsedUrl.hash;\n    }\n  }\n/**\n * @return {?}\n */\ngetBaseHrefFromDOM(): string { return /** @type {?} */(( getDOM().getBaseHref(this._doc))); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonPopState(fn: LocationChangeListener): void {\n    // No-op: a state stack is not implemented, so\n    // no events will ever come.\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nonHashChange(fn: LocationChangeListener): void { this._hashUpdate.subscribe(fn); }\n/**\n * @return {?}\n */\nget pathname(): string { return this._path; }\n/**\n * @return {?}\n */\nget search(): string { return this._search; }\n/**\n * @return {?}\n */\nget hash(): string { return this._hash; }\n/**\n * @return {?}\n */\nget url(): string { return `${this.pathname}${this.search}${this.hash}`; }\n/**\n * @param {?} value\n * @param {?} oldUrl\n * @return {?}\n */\nprivate setHash(value: string, oldUrl: string) {\n    if (this._hash === value) {\n      // Don't fire events if the hash has not changed.\n      return;\n    }\n    this._hash = value;\n    const /** @type {?} */ newUrl = this.url;\n    scheduleMicroTask(\n        () => this._hashUpdate.next( /** @type {?} */(({ type: 'hashchange', oldUrl, newUrl } as LocationChangeEvent))));\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} newUrl\n * @return {?}\n */\nreplaceState(state: any, title: string, newUrl: string): void {\n    const /** @type {?} */ oldUrl = this.url;\n    const /** @type {?} */ parsedUrl = parseUrl(newUrl);\n    this._path = parsedUrl.pathname;\n    this._search = parsedUrl.search;\n    this.setHash(parsedUrl.hash, oldUrl);\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} newUrl\n * @return {?}\n */\npushState(state: any, title: string, newUrl: string): void {\n    this.replaceState(state, title, newUrl);\n  }\n/**\n * @return {?}\n */\nforward(): void { throw new Error('Not implemented'); }\n/**\n * @return {?}\n */\nback(): void { throw new Error('Not implemented'); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [INITIAL_CONFIG, ] }, ]},\n];\n}\n\nfunction ServerPlatformLocation_tsickle_Closure_declarations() {\n/** @type {?} */\nServerPlatformLocation.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerPlatformLocation.ctorParameters;\n/** @type {?} */\nServerPlatformLocation.prototype._path;\n/** @type {?} */\nServerPlatformLocation.prototype._search;\n/** @type {?} */\nServerPlatformLocation.prototype._hash;\n/** @type {?} */\nServerPlatformLocation.prototype._hashUpdate;\n/** @type {?} */\nServerPlatformLocation.prototype._doc;\n}\n\n/**\n * @param {?} fn\n * @return {?}\n */\nexport function scheduleMicroTask(fn: Function) {\n  Zone.current.scheduleMicroTask('scheduleMicrotask', fn);\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {InjectionToken} from '@angular/core';\n\n/**\n * Config object passed to initialize the platform.\n *\n * @experimental\n */\nexport interface PlatformConfig {\n  document?: string;\n  url?: string;\n}\n/**\n * The DI token for setting the initial config for the platform.\n * \n * \\@experimental\n */\nexport const INITIAL_CONFIG = new InjectionToken<PlatformConfig>('Server.INITIAL_CONFIG');\n","\n/**\n * @license \n * Copyright Google Inc. All Rights Reserved.\n * \n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst xhr2: any = require('xhr2');\n\nimport {Injectable, Optional, Provider} from '@angular/core';\nimport {BrowserXhr, Connection, ConnectionBackend, Http, ReadyState, Request, RequestOptions, Response, XHRBackend, XSRFStrategy} from '@angular/http';\n\nimport {HttpClient, HttpEvent, HttpRequest, HttpHandler, HttpInterceptor, HttpResponse, HTTP_INTERCEPTORS, HttpBackend, XhrFactory, ɵinterceptingHandler as interceptingHandler} from '@angular/common/http';\n\nimport {Observable} from 'rxjs/Observable';\nimport {Observer} from 'rxjs/Observer';\nimport {Subscription} from 'rxjs/Subscription';\n\nconst /** @type {?} */ isAbsoluteUrl = /^[a-zA-Z\\-\\+.]+:\\/\\//;\n/**\n * @param {?} url\n * @return {?}\n */\nfunction validateRequestUrl(url: string): void {\n  if (!isAbsoluteUrl.test(url)) {\n    throw new Error(`URLs requested via Http on the server must be absolute. URL: ${url}`);\n  }\n}\nexport class ServerXhr implements BrowserXhr {\n/**\n * @return {?}\n */\nbuild(): XMLHttpRequest { return new xhr2.XMLHttpRequest(); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ServerXhr_tsickle_Closure_declarations() {\n/** @type {?} */\nServerXhr.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerXhr.ctorParameters;\n}\n\nexport class ServerXsrfStrategy implements XSRFStrategy {\n/**\n * @param {?} req\n * @return {?}\n */\nconfigureRequest(req: Request): void {}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ServerXsrfStrategy_tsickle_Closure_declarations() {\n/** @type {?} */\nServerXsrfStrategy.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerXsrfStrategy.ctorParameters;\n}\n\n/**\n * @abstract\n */\nexport abstract class ZoneMacroTaskWrapper<S, R> {\n/**\n * @param {?} request\n * @return {?}\n */\nwrap(request: S): Observable<R> {\n    return new Observable((observer: Observer<R>) => {\n      let /** @type {?} */ task: Task = /** @type {?} */(( null));\n      let /** @type {?} */ scheduled: boolean = false;\n      let /** @type {?} */ sub: Subscription|null = null;\n      let /** @type {?} */ savedResult: any = null;\n      let /** @type {?} */ savedError: any = null;\n\n      const /** @type {?} */ scheduleTask = (_task: Task) => {\n        task = _task;\n        scheduled = true;\n\n        const /** @type {?} */ delegate = this.delegate(request);\n        sub = delegate.subscribe(\n            res => savedResult = res,\n            err => {\n              if (!scheduled) {\n                throw new Error(\n                    'An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n              }\n              savedError = err;\n              scheduled = false;\n              task.invoke();\n            },\n            () => {\n              if (!scheduled) {\n                throw new Error(\n                    'An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n              }\n              scheduled = false;\n              task.invoke();\n            });\n      };\n\n      const /** @type {?} */ cancelTask = (_task: Task) => {\n        if (!scheduled) {\n          return;\n        }\n        scheduled = false;\n        if (sub) {\n          sub.unsubscribe();\n          sub = null;\n        }\n      };\n\n      const /** @type {?} */ onComplete = () => {\n        if (savedError !== null) {\n          observer.error(savedError);\n        } else {\n          observer.next(savedResult);\n          observer.complete();\n        }\n      };\n\n      // MockBackend for Http is synchronous, which means that if scheduleTask is by\n      // scheduleMacroTask, the request will hit MockBackend and the response will be\n      // sent, causing task.invoke() to be called.\n      const /** @type {?} */ _task = Zone.current.scheduleMacroTask(\n          'ZoneMacroTaskWrapper.subscribe', onComplete, {}, () => null, cancelTask);\n      scheduleTask(_task);\n\n      return () => {\n        if (scheduled && task) {\n          task.zone.cancelTask(task);\n          scheduled = false;\n        }\n        if (sub) {\n          sub.unsubscribe();\n          sub = null;\n        }\n      };\n    });\n  }\n/**\n * @abstract\n * @param {?} request\n * @return {?}\n */\ndelegate(request: S) {}\n}\nexport class ZoneMacroTaskConnection extends ZoneMacroTaskWrapper<Request, Response> implements\n    Connection {\n  response: Observable<Response>;\n  lastConnection: Connection;\n/**\n * @param {?} request\n * @param {?} backend\n */\nconstructor(public request: Request,\nprivate backend: XHRBackend) {\n    super();\n    validateRequestUrl(request.url);\n    this.response = this.wrap(request);\n  }\n/**\n * @param {?} request\n * @return {?}\n */\ndelegate(request: Request): Observable<Response> {\n    this.lastConnection = this.backend.createConnection(request);\n    return /** @type {?} */(( this.lastConnection.response as Observable<Response>));\n  }\n/**\n * @return {?}\n */\nget readyState(): ReadyState {\n    return !!this.lastConnection ? this.lastConnection.readyState : ReadyState.Unsent;\n  }\n}\n\nfunction ZoneMacroTaskConnection_tsickle_Closure_declarations() {\n/** @type {?} */\nZoneMacroTaskConnection.prototype.response;\n/** @type {?} */\nZoneMacroTaskConnection.prototype.lastConnection;\n/** @type {?} */\nZoneMacroTaskConnection.prototype.request;\n/** @type {?} */\nZoneMacroTaskConnection.prototype.backend;\n}\n\nexport class ZoneMacroTaskBackend implements ConnectionBackend {\n/**\n * @param {?} backend\n */\nconstructor(private backend: XHRBackend) {}\n/**\n * @param {?} request\n * @return {?}\n */\ncreateConnection(request: any): ZoneMacroTaskConnection {\n    return new ZoneMacroTaskConnection(request, this.backend);\n  }\n}\n\nfunction ZoneMacroTaskBackend_tsickle_Closure_declarations() {\n/** @type {?} */\nZoneMacroTaskBackend.prototype.backend;\n}\n\nexport class ZoneClientBackend extends\n    ZoneMacroTaskWrapper<HttpRequest<any>, HttpEvent<any>> implements HttpBackend {\n/**\n * @param {?} backend\n */\nconstructor(private backend: HttpBackend) { super(); }\n/**\n * @param {?} request\n * @return {?}\n */\nhandle(request: HttpRequest<any>): Observable<HttpEvent<any>> { return this.wrap(request); }\n/**\n * @param {?} request\n * @return {?}\n */\nprotected delegate(request: HttpRequest<any>): Observable<HttpEvent<any>> {\n    return this.backend.handle(request);\n  }\n}\n\nfunction ZoneClientBackend_tsickle_Closure_declarations() {\n/** @type {?} */\nZoneClientBackend.prototype.backend;\n}\n\n/**\n * @param {?} xhrBackend\n * @param {?} options\n * @return {?}\n */\nexport function httpFactory(xhrBackend: XHRBackend, options: RequestOptions) {\n  const /** @type {?} */ macroBackend = new ZoneMacroTaskBackend(xhrBackend);\n  return new Http(macroBackend, options);\n}\n/**\n * @param {?} backend\n * @param {?} interceptors\n * @return {?}\n */\nexport function zoneWrappedInterceptingHandler(\n    backend: HttpBackend, interceptors: HttpInterceptor[] | null) {\n  const /** @type {?} */ realBackend: HttpBackend = interceptingHandler(backend, interceptors);\n  return new ZoneClientBackend(realBackend);\n}\n\nexport const /** @type {?} */ SERVER_HTTP_PROVIDERS: Provider[] = [\n  {provide: Http, useFactory: httpFactory, deps: [XHRBackend, RequestOptions]},\n  {provide: BrowserXhr, useClass: ServerXhr}, {provide: XSRFStrategy, useClass: ServerXsrfStrategy},\n  {provide: XhrFactory, useClass: ServerXhr}, {\n    provide: HttpHandler,\n    useFactory: zoneWrappedInterceptingHandler,\n    deps: [HttpBackend, [new Optional(), HTTP_INTERCEPTORS]]\n  }\n];\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\n/**\n * @license \n * Copyright Google Inc. All Rights Reserved.\n * \n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst parse5 = require('parse5');\n\nimport {Injectable, Inject} from '@angular/core';\nimport {DOCUMENT, ɵgetDOM as getDOM} from '@angular/platform-browser';\n/**\n * Representation of the current platform state.\n * \n * \\@experimental\n */\nexport class PlatformState {\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) {}\n/**\n * Renders the current state of the platform to string.\n * @return {?}\n */\nrenderToString(): string { return getDOM().getInnerHTML(this._doc); }\n/**\n * Returns the current DOM state.\n * @return {?}\n */\ngetDocument(): any { return this._doc; }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction PlatformState_tsickle_Closure_declarations() {\n/** @type {?} */\nPlatformState.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nPlatformState.ctorParameters;\n/** @type {?} */\nPlatformState.prototype._doc;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["parse5","getDOM","SharedStylesHost","ALLOW_MULTIPLE_PLATFORMS","PLATFORM_SERVER_ID","shimHostAttribute","shimContentAttribute","flattenStyles","NAMESPACE_URIS","setRootDomAdapter","DomAdapter","url.parse","interceptingHandler","url"],"mappings":"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"}