{"version":3,"file":"util.js","sourceRoot":"","sources":["../../../../../modules/@angular/compiler/src/util.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {CompileTokenMetadata} from './compile_metadata';\nimport {StringMapWrapper} from './facade/collection';\nimport {StringWrapper, isArray, isBlank, isPresent, isPrimitive, isStrictStringMap} from './facade/lang';\nimport * as o from './output/output_ast';\n\nexport const MODULE_SUFFIX = '';\n\nvar CAMEL_CASE_REGEXP = /([A-Z])/g;\n\nexport function camelCaseToDashCase(input: string): string {\n  return StringWrapper.replaceAllMapped(\n      input, CAMEL_CASE_REGEXP, (m: string[]) => { return '-' + m[1].toLowerCase(); });\n}\n\nexport function splitAtColon(input: string, defaultValues: string[]): string[] {\n  const colonIndex = input.indexOf(':');\n  if (colonIndex == -1) return defaultValues;\n  return [input.slice(0, colonIndex).trim(), input.slice(colonIndex + 1).trim()];\n}\n\nexport function sanitizeIdentifier(name: string): string {\n  return StringWrapper.replaceAll(name, /\\W/g, '_');\n}\n\nexport function visitValue(value: any, visitor: ValueVisitor, context: any): any {\n  if (isArray(value)) {\n    return visitor.visitArray(<any[]>value, context);\n  } else if (isStrictStringMap(value)) {\n    return visitor.visitStringMap(<{[key: string]: any}>value, context);\n  } else if (isBlank(value) || isPrimitive(value)) {\n    return visitor.visitPrimitive(value, context);\n  } else {\n    return visitor.visitOther(value, context);\n  }\n}\n\nexport interface ValueVisitor {\n  visitArray(arr: any[], context: any): any;\n  visitStringMap(map: {[key: string]: any}, context: any): any;\n  visitPrimitive(value: any, context: any): any;\n  visitOther(value: any, context: any): any;\n}\n\nexport class ValueTransformer implements ValueVisitor {\n  visitArray(arr: any[], context: any): any {\n    return arr.map(value => visitValue(value, this, context));\n  }\n  visitStringMap(map: {[key: string]: any}, context: any): any {\n    var result = {};\n    StringMapWrapper.forEach(map, (value: any /** TODO #9100 */, key: any /** TODO #9100 */) => {\n      (result as any /** TODO #9100 */)[key] = visitValue(value, this, context);\n    });\n    return result;\n  }\n  visitPrimitive(value: any, context: any): any { return value; }\n  visitOther(value: any, context: any): any { return value; }\n}\n\nexport function assetUrl(pkg: string, path: string = null, type: string = 'src'): string {\n  if (path == null) {\n    return `asset:@angular/lib/${pkg}/index`;\n  } else {\n    return `asset:@angular/lib/${pkg}/src/${path}`;\n  }\n}\n\nexport function createDiTokenExpression(token: CompileTokenMetadata): o.Expression {\n  if (isPresent(token.value)) {\n    return o.literal(token.value);\n  } else if (token.identifierIsInstance) {\n    return o.importExpr(token.identifier)\n        .instantiate([], o.importType(token.identifier, [], [o.TypeModifier.Const]));\n  } else {\n    return o.importExpr(token.identifier);\n  }\n}\n\nexport class SyncAsyncResult<T> {\n  constructor(public syncResult: T, public asyncResult: Promise<T> = null) {\n    if (!asyncResult) {\n      this.asyncResult = Promise.resolve(syncResult);\n    }\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}